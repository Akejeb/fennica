# Title field: summary

```{r}
#| label = "source-index",
#| include = FALSE
source("init.R")
source("title.R")
```

## Complete Dataset Overview

-   [Unique accepted entries](dataTable/data_table.html?path=../%60r%20file_accepted%60): `r length(unique(df[[field]]))`
-   [Unique discarded entries in original data](dataTable/data_table.html?path=../%60r%20file_discarded%60) (excluding NA cases): `r as.vector(countLines(file_discarded) - 1)`
-   Original documents with non-NA titles: `r sum(!is.na(df[[field]]))` / `r nrow(df)` (`r round(100*mean(!is.na(df[[field]])), 1)`%)
-   Original documents with missing (NA) titles `r sum(is.na(df[[field]]))` / `r nrow(df)` documents (`r round(100*mean(is.na(df[[field]])), 1)`%)

## Subset Analysis: 1809-1917

-   [Unique accepted entries](dataTable/data_table.html?path=../output.tables/title_accepted_19.csv): `r length(unique(df_19[[field]]))`
-   [Unique discarded entries in original data](dataTable/data_table.html?path=../output.tables/title_discarded_19.csv) (excluding NA cases): `r as.vector(countLines(file_discarded_19) - 1)`
-   Original documents with non-NA titles: `r sum(!is.na(df_19[[field]]))` / `r nrow(df)` (`r round(100*mean(!is.na(df_19[[field]])), 1)`%)
-   Original documents with missing (NA) titles `r sum(is.na(df_19[[field]]))` / `r nrow(df_19)` documents (`r round(100*mean(is.na(df_19[[field]])), 1)`%)

Top-`r ntop` titles and their title counts for the 1809-1917 period

```{r}
#| label = "summarytitle-title",
#| echo = FALSE,
#| message = FALSE,
#| warning = FALSE,
#| fig.width = 8,
#| fig.height = 6
library(ggplot2)
theme_set(theme_bw(base_size = 12))
p <- top_plot(df_19, "title", ntop = ntop, log10 = TRUE)+
  labs(y = "Entries (n)", title = "Top titles")
print(p)
```

Frequency of unique titles:

```{r}
#| label = "uniquetitles-title",
#| echo = FALSE,
#| message = FALSE,
#| warning = FALSE,
#| fig.width = 8,
#| fig.height = 6
tab <- table(df_19$title)
d <- data.frame(title = names(tab), n = as.numeric(tab))

library(ggplot2)
theme_set(theme_bw(base_size = 12))
p <- ggplot(d, aes(x = n)) +
       geom_histogram(color="black", fill="white") +
       scale_x_log10() +
       scale_y_log10() +
       labs(x = "Title duplicates (n)", y = "Documents (n)")
print(p)
```
